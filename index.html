<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Clue 1 â€” Gates Hall</title>
  <style>
    :root { --bg:#07060a; --accent:#ff6b6b; --muted:#bdbdbd; }
    body{background:var(--bg);color:#fff;font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      margin:0;padding:24px;display:flex;flex-direction:column;min-height:100vh;gap:18px}
    header{display:flex;justify-content:space-between;align-items:center}
    h1{color:var(--accent);margin:0;font-size:1.6rem}
    p{margin:0;color:var(--muted)}
    main{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}
    .card{background:#0d0c10;padding:18px;border-radius:12px;max-width:680px;width:100%;box-shadow:0 6px 30px rgba(0,0,0,.6)}
    .timer{font-size:1.25rem;color:#ffd27a}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:var(--accent);color:#111;text-decoration:none;font-weight:600}
    iframe.video{width:100%;height:220px;border-radius:8px;border:0}
    small.muted{color: #9a9a9a}
  </style>
</head>
<body>
  <header>
    <h1>The Mystery of Livingston</h1>
    <div class="timer" id="global-timer">24:00:00</div>
  </header>

  <main>
    <div class="card">
      <h2>Start â€” Gates Hall</h2>
      <p>ðŸ•’ The clock is ticking â€” 24 hours to uncover the truth.<br>
      We met here, at Gates Hall. You once told me about a place called <em>Livingston</em>. Is it real?</p>

      <!-- Optional: embed a short video of you here (use YouTube embed link) -->
      <!-- Example: replace src with your unlisted YouTube embed -->
      <!-- <iframe class="video" src="https://www.youtube.com/embed/YOUR_VIDEO_ID?rel=0&autoplay=1" allow="autoplay; encrypted-media" allowfullscreen></iframe> -->

      <p><strong>Clue #1:</strong> Start where the smell of caffeine lingers and ideas never sleep.</p>

      <div style="display:flex;gap:12px;margin-top:12px;flex-wrap:wrap">
        <a class="btn" id="next-btn" href="clue2.html">I'm ready â€” Find clue #2</a>
        <small class="muted">This will start the 24-hour timer when opened.</small>
      </div>
    </div>

    <p style="font-size:.9rem;color:#9a9a9a;max-width:680px;">(This page logs each visit so I can check how you're doing â€” don't worry, only scan results go to my private sheet.)</p>
  </main>

<script>
/* ========== CONFIG: replace these ========== */
const FORM_URL = "https://docs.google.com/forms/d/e/1FAIpQLSc98vrMFB93dOJ-VO84kGNkERM6wAb-ENA1UZ9I4gpdsrPKmg/formResponse";
const ENTRY_PAGE = "entry.1204348624";      // Page Visited
const ENTRY_TIMESTAMP = "entry.2081435125"; // Timestamp

/* =========================================== */

const PAGE_INDEX = 1;       // sequence order for this file
const PAGE_NAME = "Clue 1 â€” Gates Hall";
const TOTAL_HOURS = 24;     // timer length in hours

// Helpers
function nowISO(){ return new Date().toISOString(); }
function saveStartIfNeeded(){
  if(!localStorage.getItem('hunt_start')) {
    localStorage.setItem('hunt_start', Date.now().toString());
  }
}
function updateProgress(){
  let progress = parseInt(localStorage.getItem('hunt_progress')||'0',10);
  if(PAGE_INDEX > progress) localStorage.setItem('hunt_progress', PAGE_INDEX.toString());
}
function logVisit(){
  // avoid double-logging for same page in same browser
  if(localStorage.getItem('logged_'+PAGE_INDEX)) return;
  localStorage.setItem('logged_'+PAGE_INDEX, nowISO());
  const timestamp = new Date().toLocaleString();
  // send to Google Forms via GET (works with formResponse)
  const url = FORM_URL + "?" + ENTRY_PAGE + "=" + encodeURIComponent(PAGE_NAME) + "&" + ENTRY_TIMESTAMP + "=" + encodeURIComponent(timestamp);
  fetch(url, { mode: 'no-cors' }).catch(()=>{/* no-cors prevents response handling */});
}

// Timer UI
function updateTimerUI(){
  const start = parseInt(localStorage.getItem('hunt_start')||'0',10);
  const el = document.getElementById('global-timer');
  if(!start){ el.textContent = "24:00:00"; return; }
  const end = start + TOTAL_HOURS*3600*1000;
  const rem = Math.max(0, end - Date.now());
  const hh = Math.floor(rem/3600000).toString().padStart(2,'0');
  const mm = Math.floor((rem%3600000)/60000).toString().padStart(2,'0');
  const ss = Math.floor((rem%60000)/1000).toString().padStart(2,'0');
  el.textContent = `${hh}:${mm}:${ss}`;
}

// Page load sequence
(function init(){
  // start timer only when first page is opened (user clicked or landed)
  saveStartIfNeeded();
  updateProgress();
  logVisit();
  updateTimerUI();
  setInterval(updateTimerUI, 1000);

  // ensure the user starts in order â€” for page1 it's okay
  // when clicking next, mark progress (already done above)
})();
</script>

</body>
</html>
